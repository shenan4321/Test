<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<div class="modal-dialog" id="dialogCompany1" draggable="true" style="width:1200px;">
    <div class="modal-content">
        <div class="modal-header mtb0">
            <a class="close modal-close closedBtn2" data-dismiss="modal"></a>
            <h3 class="mtb0">企业管理</h3>
        </div>
        <div class="modal-body" style="padding-bottom:0">
	        <a id="addCompanyD" style="position:absolute;top:34px;" href="javascript:void(0);" class="btn btn-default dlbBlueBtn">新增企业</a>
            <table class="table" id="companyTable" style="margin-bottom:0">
            </table>
        </div>
        <div class="h25"></div>
    </div>
</div>
<script>
	window.actionCompanyEvents = {
        'click .editCompany' : function (e, value, row, index) {
            $("#dialogBoxCompanyEdit").css('zIndex',++Global.data.zIndex).load(Global.baseDir + "dialogCompanyEdit.html", function(){
                $("#dialogBoxCompanyEdit").show();
                new DialogCompanyEdit(row);
            });
        }
    };
	
	function fmtIdx1(value, row, index) {
        return index+1;
    }
	
	function companyStausFormatter(value) {
        return "<button type='button' class='btn btn-primary btn-xs editCompany'>修改</button>　";
    }

	Global.data.companyData = [
		{
			name:"苏州朗动网络科技有限公司",
			type:"民营企业",
			address:"苏州工业园区月亮湾路10号慧湖大厦A901室",
			people:"100",
			yno:"62345678906124",
			yaddress:"苏州工业园区月亮湾路10号慧湖大厦A901室",
			ytime:'10年',
			ono:"dsa51dsadas45",
			cmail:"chendq@greatLD.com",
			ctel:"0512-62519280",
			yno:"62345678906124",
			contact:"江峰",
			mobile:'13835645774',
			legal:'苏月月'
		},
		{
			name:"苏州朗动网络科技有限公司",
			type:"民营企业",
			address:"苏州工业园区月亮湾路10号慧湖大厦A901室",
			people:"100",
			yno:"62345678906124",
			yaddress:"苏州工业园区月亮湾路10号慧湖大厦A901室",
			ytime:'10年',
			ono:"dsa51dsadas45",
			cmail:"chendq@greatLD.com",
			ctel:"0512-62519280",
			yno:"62345678906124",
			contact:"江峰",
			mobile:'13835645774',
			legal:'苏月月'
		}
	];	
	
	
    function DialogCompany() {

        $('#companyTable').bootstrapTable({
        	showHeader:true,
            columns: [{
                field: 'index',
                formatter:fmtIdx1,
                title:'序号'
            },{
                field: 'name',
                title: '企业名称'
            }, {
                field: 'type',
                title: '企业注册类型'
            }, {
                field: 'address',
                title: '企业地址'
            },{
           		field:'ctel',
           		title:'企业电话'
            },{
                field: 'people',
                title: '人数',
                visible: false
            }, {
                field: 'yno',
                title: '营业执照注册号',
                visible: false
            }, {
            	field: 'yaddress',
            	title: '营业执照所在地',
           		visible: false
            }, {
            	field: 'ytime',
            	title: '营业期限',
            	visible: false
            },{
            	field: 'ono',
            	title: '组织机构代码',
            	visible: false
            }, {
            	field: 'cmail',
            	title: '企业电子邮箱',
            	visible: false
            }, {
            	field:'legal',
            	title: '法人'
            }, {
            	field: 'contact',
            	title: '联系人'
            },{
            	field: 'mobile',
               	title: '联系人电话'
            }, {
                title: '操作',
                formatter: companyStausFormatter,
                events: actionCompanyEvents
            }],
            data: Global.data.companyData,
            showColumns:true,
            pagination:true,
            cache: false,
            striped: true,
            sidePagination: 'client', // client or server
            pageNumber: 1,
            pageSize: 10,
            pageList: [5,10,15],
            paginationHAlign: 'right', //right, left
            paginationVAlign: 'bottom', //bottom, top, both
            sortable:false,
            search: true,
            showPaginationSwitch: false,
            showRefresh: true,
            clickToSelect: true
        });
        //$("#companyTable").fixedtableheader();
        //$('#companyTable').bootstrapTable('hideLoading');

        $('#dialogCompany1').css('zIndex',++Global.data.zIndex).modal({backdrop:false,isShown:false}).draggable({
            handle: ".modal-header",
            cursor: 'move',
            refreshPositions: false
        }).find('.closedBtn1,.closedBtn2').click(function(){
            $('#dialogBoxCompany').empty().hide();
        })
		
        $('#addCompanyD').click(function(){
        	$("#dialogBoxCompanyEdit").css('zIndex',++Global.data.zIndex).load(Global.baseDir + "dialogCompanyEdit.html", function(){
                $("#dialogBoxCompanyEdit").show();
                new DialogCompanyEdit();
            });
        });
        
    }

</script>
